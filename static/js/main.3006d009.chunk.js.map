{"version":3,"sources":["lock.svg","GameRequest.js","JackboxGames.yaml","MessageHandler.js","Sidebar.js","MainScreen.js","AuthenticatedApp.js","JackboxGameList.js","App.js","reportWebVitals.js","index.js"],"names":["GameRequest","props","updateTimeDiff","setState","state","timeDiff","Math","floor","Date","now","metadata","time","delete","e","onDelete","msg","toggleLock","lockOpacity","this","locked","effect","place","id","data-tip","username","style","backgroundColor","textAlign","borderRadius","textTransform","onMouseEnter","margin","padding","fontSize","display","justifyContent","alignItems","src","lock","alt","width","opacity","paddingRight","className","onClick","type","Component","fetch","require","tmi","GAME_REQUEST_COMMAND","MessageHandler","filterGameCommands","message","startsWith","requestedGame","replace","trim","toLowerCase","partyPackName","validGames","partyPack","Object","entries","formalGameName","includes","sendMessage","process","onMessage","target","tags","self","game","messages","prevGame","channel","removeGame","addGame","client","say","identity","password","access_token","channels","on","connect","rawJackboxGameList","then","r","text","YAML","parse","Sidebar","goForward","index","history","length","goBackward","printGame","idx","color","marginLeft","marginTop","marginBottom","fontWeight","height","marginRight","map","playedGame","i","randomColor","MainScreen","user","counter","stateCopy","onGameChosen","keys","setTimeout","newMessageObj","colors","count","luminosity","hue","gameArray","flexGrow","bind","overflow","segments","segColors","onFinished","isOnlyOnce","size","upDuration","downDuration","primaryColor","contrastColor","AuthenticatedApp","failed_login","a","queryParams","queryString","location","search","URLSearchParams","grant_type","code","client_id","client_secret","redirect_uri","method","headers","Accept","json","oauth","Authorization","userInfo","data","login","pathname","to","withRouter","PartyPackCard","gameList","gameName","possibleMatches","GameCard","console","log","possibleMatch","JackboxGameList","partyPackList","loginScreen","loginUrl","href","App","basename","exact","path","component","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"4YAAe,G,MAAA,IAA0B,kC,OCKpBA,E,kDACnB,WAAYC,GAAO,IAAD,8BAChB,cAAMA,IAMRC,eAAiB,WAEf,EAAKC,UAAS,WACZ,OAAO,2BACF,EAAKC,OADV,IAEEC,SAAS,GAAD,OAAKC,KAAKC,OAAOC,KAAKC,MAAM,EAAKR,MAAMS,SAASC,MAAM,KAAtD,sBAZI,EAgBlBC,OAAS,SAACC,GACR,EAAKZ,MAAMa,SAAS,EAAKb,MAAMc,MAjBf,EAoBlBC,WAAa,WACX,EAAKf,MAAMe,WAAW,EAAKf,MAAMc,MAnBjC,EAAKX,MAAQ,CACXC,SAAU,GAHI,E,0CAwBlB,WACE,IAAMY,EAAcC,KAAKjB,MAAMS,SAASS,OAAS,IAAM,MACvD,OACE,gCACA,cAAC,IAAD,CAAcC,OAAO,QAAQC,MAAM,UACnC,qBAAKC,GAAG,UAAUC,WAAA,oBAAuBL,KAAKd,MAAMC,SAAlC,eAAiDa,KAAKjB,MAAMS,SAASc,UAAYC,MAAO,CAACC,gBAAgB,YAAaC,UAAW,OAAQC,aAAc,MAAOC,cAAe,cAAeC,aAAcZ,KAAKhB,eAAjO,SACA,oBAAGuB,MAAO,CAACM,OAAQ,eAAgBC,QAAS,MAAOC,SAAU,OAAQC,QAAS,OAAQC,eAAgB,gBAAiBC,WAAY,UAAnI,UACGlB,KAAKjB,MAAMc,IACZ,sBAAKU,MAAO,CAACS,QAAQ,QAArB,UACE,qBAAKG,IAAKC,EAAMC,IAAI,OAAOd,MAAO,CAACe,MAAO,OAAQC,QAASxB,EAAayB,aAAc,OAAQC,UAAU,OAAOC,QAAS1B,KAAKF,aAC7H,wBAAQ6B,KAAK,SAASF,UAAU,eAAeC,QAAS1B,KAAKN,OAA7D,8B,GAnC+BkC,a,yBCL1B,MAA0B,0CCGnCC,EAAQC,EAAQ,IAChBC,EAAMD,EAAQ,IAEdE,EAAuB,WAERC,E,kDACnB,WAAYlD,GAAQ,IAAD,8BACjB,cAAMA,IAkCRmD,mBAAqB,SAACC,EAAS7B,GAC7B,GAAI6B,EAAQC,WAAWJ,GAAvB,CAEA,IAAMK,EAAgBF,EAAQG,QAAQN,EAAsB,IAAIO,OAAOC,cAEvE,IAAI,IAAIC,KAAiB,EAAKvD,MAAMwD,WAElC,IADA,IAAMC,EAAY,EAAKzD,MAAMwD,WAAWD,GACxC,MAA+CG,OAAOC,QAAQF,GAA9D,eAAyE,CAAC,IAAD,sBAA9DG,EAA8D,KACvE,GADuE,KACpDC,SAASV,GAC1B,MAAM,GAAN,OAAUS,EAAV,aAA6BL,EAA7B,KAKN,OADA,EAAKO,YAAL,eAAyB1C,EAAzB,aAAsC+B,EAAtC,yGAAoJY,qDAApJ,cACO,OAjDU,EAoDnBC,UAAY,SAACC,EAAQC,EAAMvD,EAAKwD,GAC9B,IAAGA,EAAH,CACA,IAAMC,EAAO,EAAKpB,mBAAmBrC,EAAKuD,EAAK9C,UAC/C,GAAKgD,EAEL,GAAG,EAAKvE,MAAMwE,SAASD,GACrB,EAAKN,YAAL,eAAyBI,EAAK9C,SAA9B,aAA2CgD,EAA3C,qCADF,CAMA,IADA,IAAIE,EAAW,KACf,MAA8BZ,OAAOC,QAAQ,EAAK9D,MAAMwE,UAAxD,eAAmE,CAAC,IAAD,sBAAxDD,EAAwD,KACjE,GADiE,KACrDhD,WAAa8C,EAAK9C,SAAS,CACrCkD,EAAWF,EACX,OAIDE,EACE,EAAKzE,MAAM0E,UAAYL,EAAK9C,SAC7B,EAAK0C,YAAL,eAAyBI,EAAK9C,SAA9B,aAA2CgD,EAA3C,0IAEA,EAAKI,WAAWF,GAChB,EAAKR,YAAL,eAAyBI,EAAK9C,SAA9B,sCAAoEkD,EAApE,mCAAuGF,EAAvG,OAGF,EAAKN,YAAL,eAAyBI,EAAK9C,SAA9B,aAA2CgD,EAA3C,0CAGF,EAAKvE,MAAM4E,QAAQL,EAAMF,EAAK9C,aAjFb,EAoFnB0C,YAAc,SAACnD,GACb,EAAKX,MAAM0E,OAAOC,IAAI,EAAK9E,MAAM0E,QAAS5D,IAnF1C,EAAKX,MAAQ,CACX0E,OAAQ,KACRlB,WAAY,IAJG,E,qDAQnB,SAAkB3D,GAAQ,IAAD,OACjB6E,EAAS,IAAI7B,EAAI6B,OAAO,CAC5BE,SAAU,CACRxD,SAAUN,KAAKjB,MAAM0E,QACrBM,SAAU/D,KAAKjB,MAAMiF,cAEvBC,SAAU,CACRjE,KAAKjB,MAAM0E,WAIfG,EAAOM,GAAG,UAAWlE,KAAKkD,WAC1BU,EAAOO,UAEPtC,EAAMuC,GACHC,MAAK,SAAAC,GAAC,OAAIA,EAAEC,UACZF,MAAK,SAAAE,GACJ,EAAKtF,UAAS,SAACC,GACb,OAAO,2BACFA,GADL,IAEE0E,SACAlB,WAAY8B,IAAKC,MAAMF,a,oBA2DjC,WACE,OAAO,S,GA1FiC3C,aCNvB8C,E,kDACnB,WAAY3F,GAAO,IAAD,8BAChB,cAAMA,IAMR4F,UAAY,WACP,EAAKzF,MAAM0F,QAAU,EAAK7F,MAAM8F,QAAQC,OAAO,GAClD,EAAK7F,UAAS,SAACC,GACb,OAAO,2BACF,EAAKA,OADV,IAEE0F,MAAO,EAAK1F,MAAM0F,MAAM,QAZZ,EAiBlBG,WAAa,WACR,EAAK7F,MAAM0F,OAAS,GACvB,EAAK3F,UAAS,SAACC,GACb,OAAO,2BACF,EAAKA,OADV,IAEE0F,MAAO,EAAK1F,MAAM0F,MAAM,QAtBZ,EA2BlBI,UAAY,SAACC,GACX,OAAGA,IAAQ,EAAK/F,MAAM0F,MACZ,mBAAGrE,MAAO,CAAC2E,MAAM,cAAjB,SAAiC,EAAKnG,MAAM8F,QAAQI,KAErD,EAAKlG,MAAM8F,QAAQI,IA7B5B,EAAK/F,MAAQ,CACX0F,MAAO,GAHO,E,0CAmClB,WAAU,IAAD,OACP,OACE,sBAAKrE,MAAO,CAAC4E,WAAY,OAAQ7D,MAAO,MAAOX,cAAe,cAA9D,UACE,qBAAKJ,MAAO,CAACC,gBAAiB,gBAAiBE,aAAc,MAAO0E,UAAW,EAAGtE,QAAS,MAAOuE,aAAc,QAAhH,SACE,oBAAG9E,MAAO,CAACQ,SAAU,OAAQuE,WAAY,MAAOC,OAAQ,OAAQzE,QAAS,OAAzE,sBACGd,KAAKjB,MAAM8F,QAAQC,OAAS9E,KAAKd,MAAM0F,OAAS,4BAAI5E,KAAKjB,MAAM8F,QAAQ7E,KAAKd,MAAM0F,cAIvF,sBAAKrE,MAAO,CAACS,QAAS,OAAQC,eAAgB,iBAA9C,UACE,wBAAQS,QAAS1B,KAAK+E,WAAYxE,MAAO,CAACC,gBAAiB,WAAYE,aAAc,MAAO0E,UAAW,EAAG9D,MAAO,MAAO+D,aAAc,OAAQG,YAAa,OAA3J,4BACA,wBAAQ9D,QAAS1B,KAAK2E,UAAWpE,MAAO,CAACC,gBAAiB,WAAYE,aAAc,MAAO0E,UAAW,EAAG9D,MAAO,MAAO+D,aAAc,OAAQF,WAAY,OAAzJ,+BAGF,sBAAK5E,MAAO,CAACC,gBAAiB,gBAAiBE,aAAc,MAAO0E,UAAW,EAAGtE,QAAS,OAA3F,UACE,mBAAGP,MAAO,CAACQ,SAAU,OAAQuE,WAAY,OAAzC,uBACA,oBAAG/E,MAAO,CAACQ,SAAU,QAArB,UACGf,KAAKjB,MAAM8F,QAAQY,KAAI,SAACC,EAAYC,GAAb,OAAmB,6BAAa,EAAKX,UAAUW,IAAnBA,MACrB,IAA9B3F,KAAKjB,MAAM8F,QAAQC,QAAgB,6CAAQ,kB,GAtDnBlD,aCG/BgE,EAAc9D,EAAQ,IAMP+D,E,kDACnB,WAAY9G,GAAO,IAAD,8BAChB,cAAMA,IASR4E,QAAW,SAACL,EAAMwC,GAChB,EAAK7G,UAAS,SAACC,GACb,OAAO,2BACFA,GADL,IAEEqE,SAAS,2BACJ,EAAKrE,MAAMqE,UADR,kBAELD,EAAO,CACNhD,SAAUwF,EACVrG,KAAMH,KAAKC,MACXU,QAAQ,KAGZ8F,QAAS,EAAK7G,MAAM6G,QAAU,QAtBlB,EA2BlBjG,WAAa,SAACwD,GACZ,IAAM0C,EAAS,eAAO,EAAK9G,MAAMqE,SAASD,IAC1C0C,EAAU/F,QAAU+F,EAAU/F,OAE9B,EAAKhB,UAAS,WACZ,OAAO,2BACF,EAAKC,OADV,IAEEqE,SAAS,2BACJ,EAAKrE,MAAMqE,UADR,kBAELD,EAAO0C,UApCE,EA0ClBC,aAAe,SAAC3C,GACiC,IAA5CV,OAAOsD,KAAK,EAAKhH,MAAMqE,UAAUuB,SAChC,EAAK5F,MAAMqE,SAASD,GAAMrD,QAC5BkG,YAAW,WACT,EAAKzC,WAAWJ,GAAM,KACrB,MAEL,EAAKrE,UAAS,SAACC,GACb,OAAO,2BACFA,GADL,IAEE2F,QAAQ,GAAD,mBACF,EAAK3F,MAAM2F,SADT,CAELvB,WAtDU,EA4DlBI,WAAa,SAACJ,GACZ,IAAM8C,EAAa,eAAO,EAAKlH,MAAMqE,iBAC9B6C,EAAc9C,GACrB,EAAKrE,UAAS,SAACC,GACb,OAAO,2BACFA,GADL,IAEEqE,SAAU6C,EACVL,QAAS,EAAK7G,MAAM6G,QAAU,QAjElC,EAAK7G,MAAQ,CACXqE,SAAU,GACV8C,OAAQT,EAAY,CAACU,MAAO,GAAIC,WAAY,QAASC,IAAK,SAC1DT,QAAS,EACTlB,QAAS,IANK,E,0CAwElB,WAAU,IAAD,OACD4B,EAAY7D,OAAOsD,KAAKlG,KAAKd,MAAMqE,UACzC,OACE,sBAAKhD,MAAO,CAACS,QAAS,QAAtB,UACE,cAAC,EAAD,CACE2C,QAAS3D,KAAK2D,QACdJ,SAAUvD,KAAKd,MAAMqE,SACrBE,QAASzD,KAAKjB,MAAM0E,QACpBO,aAAchE,KAAKjB,MAAMiF,eAE3B,yBAAQ1C,MAAM,OAAd,UACE,oBAAIf,MAAO,CAAC8E,aAAa,KAAzB,2BACA,qBAAI9E,MAAO,CAACQ,SAAS,OAAQmE,MAAO,SAAUE,UAAW,MAAOC,aAAa,OAAQC,WAAY,KAAjG,mDAA8ItF,KAAKjB,MAAM0E,QAAzJ,oBACA,sBAAKlD,MAAO,CAACS,QAAQ,OAAQE,WAAY,aAAcqE,OAAO,QAA9D,UACA,cAAC,EAAD,CAASV,QAAS7E,KAAKd,MAAM2F,UAC7B,qBAAKtE,MAAO,CAACmG,SAAU,IAAKvB,WAAY,QAAxC,SACKsB,EAAUhB,KAAI,SAAC5F,EAAK8F,GAAN,OAAY,cAAC,EAAD,CAAqB9F,IAAKA,EAAKL,SAAU,EAAKN,MAAMqE,SAAS1D,GAAMD,SAAU,EAAK8D,WAAY5D,WAAY,EAAKA,WAAW6G,KAAK9G,IAA7G8F,cAInD,wBAAQrE,MAAM,OAAOf,MAAO,CAACI,cAAe,cAA5C,SACE,qBAAKJ,MAAO,CAACQ,SAAU,OAAQ6F,SAAU,SAAUtF,MAAO,SAA1D,SACE,cAAC,IAAD,CAEEuF,SAAUJ,EACVK,UAAW9G,KAAKd,MAAMmH,OACtBU,WAAY/G,KAAKiG,aACjBe,YAAY,EACZC,KAAM,IACNC,WAAY,IACZC,aAAc,IACdC,aAAc,QACdC,cAAe,SATVrH,KAAKd,MAAM6G,oB,GAhGUnE,a,wBCNlCC,EAAQC,EAAQ,IAEhBwF,E,kDACJ,aAAc,IAAD,8BACX,gBACKpI,MAAQ,CACXoB,SAAU,GACV0D,aAAc,GACduD,cAAc,GALL,E,4FAQb,mCAAAC,EAAA,6DACQC,EAAcC,IAAYjD,MAAMzE,KAAKjB,MAAM4I,SAASC,QAD5D,SAEQ/F,EAAM,qCAAuC,IAAIgG,gBAAgB,CACrEC,WAAY,qBACZC,KAAMN,EAAYM,KAClBC,UAAW/E,iCACXgF,cAAehF,iCACfiF,aAAcjF,uDACZ,CACFkF,OAAQ,OACRC,QAAS,CACPC,OAAQ,sCAEThE,MAAK,SAAAC,GAAC,OAAIA,EAAEgE,UACdjE,MAAK,SAACkE,GAEDA,EAAMvE,cAUV,EAAK/E,UAAS,SAACC,GACb,OAAO,2BACFA,GADL,IAEE8E,aAAcuE,EAAMvE,kBAIxBnC,EAAM,oCAAqC,CACzCuG,QAAS,CACP,YAAanF,iCACbuF,cAAc,UAAD,OAAYD,EAAMvE,iBAGlCK,MAAK,SAAAC,GAAC,OAAIA,EAAEgE,UACZjE,MAAK,SAAAoE,GAEJ,EAAKxJ,UAAS,SAACC,GACb,OAAO,2BACFA,GADL,IAEEoB,SAAUmI,EAASC,KAAK,GAAGC,eA5B/B,EAAK1J,UAAS,SAACC,GACb,OAAO,2BACFA,GADL,IAEEqI,cAAc,UApBxB,gD,0EAoDA,WACE,OACE,8BACGvH,KAAKd,MAAMqI,cAAgD,aAAhCvH,KAAKjB,MAAM4I,SAASiB,SAC5C,cAAC,IAAD,CAAUC,GAAG,WACb7I,KAAKd,MAAMoB,UAAY,cAAC,EAAD,CAAYmD,QAASzD,KAAKd,MAAMoB,SAAU0D,aAAchE,KAAKd,MAAM8E,qB,GAlEvEpC,aAyEhBkH,cAAWxB,GC5EpBzF,G,MAAQC,EAAQ,KAEhBiH,EAAgB,SAAUhK,GAC9B,IAAMiK,EAAWpG,OAAOsD,KAAKnH,EAAMS,UACnC,OACE,sBAAKiC,UAAU,gBAAf,UACE,oBAAGA,UAAU,gBAAb,UAA8B1C,EAAM0D,cAApC,OACCuG,EAASvD,KAAI,SAACwD,EAAUtD,GAAX,OACZ,cAAC,EAAD,CAEEsD,SAAUA,EACVC,gBAAiBnK,EAAMS,SAASyJ,IAF3BtD,UAYTwD,EAAW,SAASpK,GAExB,OADAqK,QAAQC,IAAItK,EAAMmK,iBAEhB,gCACE,oBAAGzH,UAAU,WAAb,UAAyB1C,EAAMkK,SAA/B,OACClK,EAAMmK,gBAAgBzD,KAAI,SAAC6D,EAAe3D,GAAhB,OACzB,qBAAIlE,UAAU,oBAAd,sBAA4C6H,YAM/BC,E,kDACnB,WAAYxK,GAAQ,IAAD,8BACjB,cAAMA,IACDG,MAAQ,CACXwD,WAAY,IAHG,E,qDAOnB,SAAkB3D,GAAQ,IAAD,OACvB8C,EAAMuC,GACHC,MAAK,SAAAC,GAAC,OAAIA,EAAEC,UACZF,MAAK,SAAAE,GACJ,EAAKtF,UAAS,SAACC,GACb,OAAO,2BACFA,GADL,IAEEwD,WAAY8B,IAAKC,MAAMF,a,oBAQ/B,WAAU,IAAD,OACDiF,EAAgB5G,OAAOsD,KAAKlG,KAAKd,MAAMwD,YAE7C,OADA0G,QAAQC,IAAIG,GAEV,qBAAK/H,UAAU,gBAAf,SACG+H,EAAc/D,KAAI,SAAChD,EAAekD,GAAhB,OACjB,cAAC,EAAD,CAEElD,cAAeA,EACfjD,SAAU,EAAKN,MAAMwD,WAAWD,IAF3BkD,Y,GA9B0B/D,aC9BvC6H,EAAc,WAClB,IAAMC,EAAQ,0DAAsDzG,iCAAtD,sEAA0JA,wDACxK,OACE,mBAAG0G,KAAMD,EAAUnJ,MAAO,CAACC,gBAAiB,gBAAiBE,aAAc,MAAOI,QAAS,OAAQoE,MAAO,SAA1G,iCAuBW0E,E,4JAlBb,WAEE,OACE,cAAC,IAAD,CAAYC,SAAS,IAArB,SACE,qBAAKpI,UAAU,MAAf,SACE,yBAAQA,UAAU,aAAlB,UACE,cAAC,IAAD,CAAOqI,OAAK,EAACC,KAAK,SAAlB,SACGN,MAEH,cAAC,IAAD,CAAOM,KAAK,IAAIC,UAAW1C,IAC3B,cAAC,IAAD,CAAOyC,KAAK,YAAYC,UAAWT,e,GAX7B3H,aCFHqI,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,6BAAqB9F,MAAK,YAAkD,IAA/C+F,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCAdO,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,IAAD,UACE,cAAC,EAAD,QAGJC,SAASC,eAAe,SAM1BZ,M","file":"static/js/main.3006d009.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/lock.6857c469.svg\";","import { Component } from 'react';\r\nimport ReactTooltip from 'react-tooltip'\r\nimport './messageStyles.css';\r\nimport lock from './lock.svg';\r\n\r\nexport default class GameRequest extends Component {\r\n  constructor(props){\r\n    super(props);\r\n    this.state = {\r\n      timeDiff: 0\r\n    };\r\n  }\r\n\r\n  updateTimeDiff = () => {\r\n    // return Date.now();\r\n    this.setState(() => {\r\n      return {\r\n        ...this.state,\r\n        timeDiff: `${Math.floor((Date.now()-this.props.metadata.time)/60000)} minutes ago`\r\n      };\r\n    });\r\n  }\r\n  delete = (e) => {\r\n    this.props.onDelete(this.props.msg)\r\n  }\r\n\r\n  toggleLock = () => {\r\n    this.props.toggleLock(this.props.msg)\r\n  }\r\n\r\n  render() {\r\n    const lockOpacity = this.props.metadata.locked ? '1' : '0.2';\r\n    return (\r\n      <div>\r\n      <ReactTooltip effect=\"solid\" place=\"right\"/>\r\n      <div id=\"baseDiv\" data-tip={`Requested ${this.state.timeDiff} by ${this.props.metadata.username}`} style={{backgroundColor:'steelblue', textAlign: 'left', borderRadius: '8px', textTransform: 'capitalize'}} onMouseEnter={this.updateTimeDiff}>\r\n      <p style={{margin: '0px 15px 7px', padding: '4px', fontSize: '16px', display: 'flex', justifyContent: 'space-between', alignItems: 'center'}}>\r\n        {this.props.msg}\r\n        <div style={{display:'flex'}}>\r\n          <img src={lock} alt=\"lock\" style={{width: '16px', opacity: lockOpacity, paddingRight: '8px'}} className=\"lock\" onClick={this.toggleLock} />\r\n          <button type='button' className=\"deleteButton\" onClick={this.delete}>X</button>\r\n        </div>\r\n      </p>\r\n      </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","export default __webpack_public_path__ + \"static/media/JackboxGames.0b4c1fc6.yaml\";","import { Component } from 'react';\r\nimport YAML from 'yaml'\r\nimport rawJackboxGameList from './JackboxGames.yaml';\r\nconst fetch = require('node-fetch');\r\nconst tmi = require('tmi.js');\r\n\r\nconst GAME_REQUEST_COMMAND = \"!request\";\r\n\r\nexport default class MessageHandler extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      client: null,\r\n      validGames: []\r\n    };\r\n  }\r\n\r\n  componentDidMount(props) {\r\n    const client = new tmi.client({\r\n      identity: {\r\n        username: this.props.channel,\r\n        password: this.props.access_token\r\n      },\r\n      channels: [\r\n        this.props.channel\r\n      ]\r\n    });\r\n\r\n    client.on('message', this.onMessage);\r\n    client.connect();\r\n\r\n    fetch(rawJackboxGameList)\r\n      .then(r => r.text())\r\n      .then(text => {\r\n        this.setState((state) => {\r\n          return {\r\n            ...state,\r\n            client,\r\n            validGames: YAML.parse(text)\r\n          };\r\n        });\r\n      })\r\n    }\r\n\r\n  filterGameCommands = (message, username) => {\r\n    if(!message.startsWith(GAME_REQUEST_COMMAND)) return;\r\n\r\n    const requestedGame = message.replace(GAME_REQUEST_COMMAND, \"\").trim().toLowerCase();\r\n\r\n    for(let partyPackName in this.state.validGames) {\r\n      const partyPack = this.state.validGames[partyPackName]\r\n      for(const [formalGameName, possibleMatches] of Object.entries(partyPack)){\r\n        if(possibleMatches.includes(requestedGame)) {\r\n          return `${formalGameName} (${partyPackName})`;\r\n        }\r\n      }\r\n    }\r\n    this.sendMessage(`/me @${username}, ${requestedGame} could not be found in the list of valid Jackbox games. Click here for a list of valid games: ${process.env.REACT_APP_REDIRECT_URI_NOENCODE}/gamelist`);\r\n    return null;\r\n  }\r\n\r\n  onMessage = (target, tags, msg, self) => {\r\n    if(self) return;\r\n    const game = this.filterGameCommands(msg, tags.username);\r\n    if (!game) return;\r\n\r\n    if(this.props.messages[game]) {\r\n      this.sendMessage(`/me @${tags.username}, ${game} has already been requested!`);\r\n      return;\r\n    }\r\n\r\n    let prevGame = null;\r\n    for(const [game, metadata] of Object.entries(this.props.messages)) {\r\n      if(metadata.username === tags.username){\r\n        prevGame = game;\r\n        break;\r\n      }\r\n    }\r\n\r\n    if(prevGame) {\r\n      if(this.props.channel === tags.username) {\r\n        this.sendMessage(`/me @${tags.username}, ${game} has been added to the request queue. Your previous game request(s) weren't deleted, since you have special broadcaster privilege :P`);\r\n      } else {\r\n        this.removeGame(prevGame);\r\n        this.sendMessage(`/me @${tags.username}, your previous request of ${prevGame} has been replaced with ${game}.`);\r\n      }\r\n    } else {\r\n      this.sendMessage(`/me @${tags.username}, ${game} has been added to the request queue.`);\r\n    }\r\n\r\n    this.props.addGame(game, tags.username);\r\n  }\r\n\r\n  sendMessage = (msg) => {\r\n    this.state.client.say(this.props.channel, msg)\r\n  }\r\n\r\n  render() {\r\n    return null;\r\n  }\r\n}\r\n","import { Component } from 'react';\r\n\r\nexport default class Sidebar extends Component {\r\n  constructor(props){\r\n    super(props);\r\n    this.state = {\r\n      index: 0\r\n    }\r\n  }\r\n\r\n  goForward = () => {\r\n    if(this.state.index === this.props.history.length-1) return;\r\n    this.setState((state) => {\r\n      return {\r\n        ...this.state,\r\n        index: this.state.index+1\r\n      }\r\n    })\r\n  }\r\n\r\n  goBackward = () => {\r\n    if(this.state.index <= 0) return;\r\n    this.setState((state) => {\r\n      return {\r\n        ...this.state,\r\n        index: this.state.index-1\r\n      }\r\n    })\r\n  }\r\n\r\n  printGame = (idx) => {\r\n    if(idx === this.state.index) {\r\n      return (<b style={{color:'aquamarine'}}>{this.props.history[idx]}</b>)\r\n    } else {\r\n      return this.props.history[idx]\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div style={{marginLeft: \"12px\", width: \"33%\", textTransform: 'capitalize'}}>\r\n        <div style={{backgroundColor: \"darkslategrey\", borderRadius: \"5px\", marginTop: 0, padding: '1px', marginBottom: '10px'}}>\r\n          <p style={{fontSize: \"14px\", fontWeight: \"700\", height: '70px', padding: '8px'}}> Up Next:\r\n            {this.props.history.length > this.state.index && <p>{this.props.history[this.state.index]}</p> }\r\n          </p>\r\n        </div>\r\n\r\n        <div style={{display: \"flex\", justifyContent: \"space-between\"}}>\r\n          <button onClick={this.goBackward} style={{backgroundColor: \"darkcyan\", borderRadius: \"5px\", marginTop: 0, width: \"50%\", marginBottom: '20px', marginRight: '5px'}}> 🢠 </button>\r\n          <button onClick={this.goForward} style={{backgroundColor: \"darkcyan\", borderRadius: \"5px\", marginTop: 0, width: \"50%\", marginBottom: '20px', marginLeft: '5px'}}> 🢡 </button>\r\n        </div>\r\n\r\n        <div style={{backgroundColor: \"darkslategrey\", borderRadius: \"5px\", marginTop: 0, padding: '5px'}}>\r\n          <p style={{fontSize: \"14px\", fontWeight: \"700\"}}> History </p>\r\n          <p style={{fontSize: \"12px\"}}>\r\n            {this.props.history.map((playedGame, i) => <li key={i}>{this.printGame(i)}</li> )}\r\n            {this.props.history.length === 0 && <li key='0'>No games yet</li> }\r\n          </p>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","import { Component } from 'react';\r\nimport WheelComponent from 'react-wheel-of-prizes'\r\nimport GameRequest from './GameRequest'\r\nimport MessageHandler from './MessageHandler';\r\nimport Sidebar from './Sidebar'\r\nconst randomColor = require('randomcolor');\r\n\r\nconst column = function(width) {\r\n  return (<div style={{float:'left', width:width}} />);\r\n}\r\n\r\nexport default class MainScreen extends Component {\r\n  constructor(props){\r\n    super(props);\r\n    this.state = {\r\n      messages: {},\r\n      colors: randomColor({count: 99, luminosity: 'light', hue: 'blue'}),\r\n      counter: 0,\r\n      history: []\r\n    };\r\n  }\r\n\r\n  addGame  = (game, user) => {\r\n    this.setState((state) => {\r\n      return {\r\n        ...state,\r\n        messages: {\r\n          ...this.state.messages,\r\n          [game]: {\r\n            username: user,\r\n            time: Date.now(),\r\n            locked: false\r\n          }\r\n        },\r\n        counter: this.state.counter + 1\r\n      };\r\n    })\r\n  }\r\n\r\n  toggleLock = (game) => {\r\n    const stateCopy = {...this.state.messages[game]};\r\n    stateCopy.locked = !stateCopy.locked\r\n\r\n    this.setState(() => {\r\n      return {\r\n        ...this.state,\r\n        messages: {\r\n          ...this.state.messages,\r\n          [game]: stateCopy\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  onGameChosen = (game) => {\r\n    if(Object.keys(this.state.messages).length === 0) return;\r\n    if(!this.state.messages[game].locked) {\r\n      setTimeout(() => {\r\n        this.removeGame(game, true);\r\n      }, 2500);\r\n    }\r\n    this.setState((state) => {\r\n      return {\r\n        ...state,\r\n        history: [\r\n          ...this.state.history,\r\n          game\r\n        ]\r\n      };\r\n    })\r\n  }\r\n\r\n  removeGame = (game) => {\r\n    const newMessageObj = {...this.state.messages};\r\n    delete newMessageObj[game];\r\n    this.setState((state) => {\r\n      return {\r\n        ...state,\r\n        messages: newMessageObj,\r\n        counter: this.state.counter + 1\r\n      };\r\n    })\r\n  }\r\n\r\n  render() {\r\n    const gameArray = Object.keys(this.state.messages);\r\n    return (\r\n      <div style={{display: 'flex'}}>\r\n        <MessageHandler\r\n          addGame={this.addGame}\r\n          messages={this.state.messages}\r\n          channel={this.props.channel}\r\n          access_token={this.props.access_token}\r\n        />\r\n        <column width=\"50vw\">\r\n          <h2 style={{marginBottom:\"0\"}}>Game Requests</h2>\r\n          <h4 style={{fontSize:\"20px\", color: \"yellow\", marginTop: \"6px\", marginBottom:\"12px\", fontWeight: 400}}>Type e.g. \"!request Blather Round\" in {this.props.channel}'s chat to add</h4>\r\n          <div style={{display:\"flex\", alignItems: \"flex-start\", height:\"100%\"}}>\r\n          <Sidebar history={this.state.history}/>\r\n          <div style={{flexGrow: \"2\", marginLeft: \"15px\"}}>\r\n              {gameArray.map((msg, i) => <GameRequest key={i} msg={msg} metadata={this.state.messages[msg]} onDelete={this.removeGame} toggleLock={this.toggleLock.bind(msg)}/>)}\r\n            </div>\r\n          </div>\r\n        </column>\r\n        <column width=\"50vw\" style={{textTransform: 'capitalize'}}>\r\n          <div style={{fontSize: \"16px\", overflow: \"hidden\", width: \"600px\"}}>\r\n            <WheelComponent\r\n              key={this.state.counter}\r\n              segments={gameArray}\r\n              segColors={this.state.colors}\r\n              onFinished={this.onGameChosen}\r\n              isOnlyOnce={false}\r\n              size={250}\r\n              upDuration={100}\r\n              downDuration={1000}\r\n              primaryColor={\"white\"}\r\n              contrastColor={\"black\"}\r\n            />\r\n          {/*  <Modal/>*/}\r\n          </div>\r\n        </column>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","\r\nimport React, { Component } from 'react';\r\nimport MainScreen from './MainScreen';\r\nimport { Redirect, withRouter } from \"react-router-dom\";\r\nimport queryString from 'query-string'\r\nconst fetch = require('node-fetch');\r\n\r\nclass AuthenticatedApp extends Component {\r\n  constructor(){\r\n    super();\r\n    this.state = {\r\n      username: \"\",\r\n      access_token: \"\",\r\n      failed_login: false\r\n    }\r\n  }\r\n  async componentDidMount() {\r\n    const queryParams = queryString.parse(this.props.location.search);\r\n    await fetch('https://id.twitch.tv/oauth2/token?' + new URLSearchParams({\r\n      grant_type: 'authorization_code',\r\n      code: queryParams.code,\r\n      client_id: process.env.REACT_APP_TWITCH_CLIENT_ID,\r\n      client_secret: process.env.REACT_APP_TWITCH_CLIENT_SECRET,\r\n      redirect_uri: process.env.REACT_APP_REDIRECT_URI_NOENCODE\r\n    }), {\r\n      method: 'POST',\r\n      headers: {\r\n        Accept: 'application/vnd.twitchtv.v5+json'\r\n      }\r\n    }).then(r => r.json())\r\n    .then((oauth) => {\r\n      //console.log(oauth); // access_token, refresh_token, expires_in, scope ['...']\r\n      if(!oauth.access_token) {\r\n        this.setState((state) => {\r\n          return {\r\n            ...state,\r\n            failed_login: true\r\n          };\r\n        });\r\n        return;\r\n      }\r\n\r\n      this.setState((state) => {\r\n        return {\r\n          ...state,\r\n          access_token: oauth.access_token\r\n        };\r\n      });\r\n\r\n      fetch('https://api.twitch.tv/helix/users', {\r\n        headers: {\r\n          'Client-ID': process.env.REACT_APP_TWITCH_CLIENT_ID,\r\n          Authorization: `Bearer ${oauth.access_token}`\r\n        }\r\n      })\r\n      .then(r => r.json())\r\n      .then(userInfo => {\r\n        //console.log(userInfo); //login [aka lowercase username?], display_name, profile_image_url, description\r\n        this.setState((state) => {\r\n          return {\r\n            ...state,\r\n            username: userInfo.data[0].login,\r\n          };\r\n        })\r\n      })\r\n    })\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        {this.state.failed_login && this.props.location.pathname != \"/gamelist\"\r\n          ? <Redirect to=\"/login\" />\r\n          : this.state.username && <MainScreen channel={this.state.username} access_token={this.state.access_token} />}\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\n\r\nexport default withRouter(AuthenticatedApp);\r\n","import { Component } from 'react';\r\nimport YAML from 'yaml'\r\nimport rawJackboxGameList from './JackboxGames.yaml';\r\nimport './JackboxGameList.css';\r\nconst fetch = require('node-fetch');\r\n\r\nconst PartyPackCard = function (props) {\r\n  const gameList = Object.keys(props.metadata);\r\n  return (\r\n    <div className=\"partyPackCard\">\r\n      <p className=\"partyPackName\">{props.partyPackName} </p>\r\n      {gameList.map((gameName, i) =>\r\n        <GameCard\r\n          key={i}\r\n          gameName={gameName}\r\n          possibleMatches={props.metadata[gameName]}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\n\r\n// <p> {props.gameName} <p>\r\n\r\nconst GameCard = function(props) {\r\n  console.log(props.possibleMatches);\r\n  return (\r\n    <div>\r\n      <p className=\"gameName\">{props.gameName} </p>\r\n      {props.possibleMatches.map((possibleMatch, i) =>\r\n        <li className=\"possibleGameMatch\">!request {possibleMatch}</li>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default class JackboxGameList extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      validGames: []\r\n    };\r\n  }\r\n\r\n  componentDidMount(props) {\r\n    fetch(rawJackboxGameList)\r\n      .then(r => r.text())\r\n      .then(text => {\r\n        this.setState((state) => {\r\n          return {\r\n            ...state,\r\n            validGames: YAML.parse(text)\r\n          };\r\n        });\r\n      })\r\n    }\r\n\r\n\r\n\r\n    render() {\r\n      const partyPackList = Object.keys(this.state.validGames);\r\n      console.log(partyPackList);\r\n      return (\r\n        <div className=\"partyPackList\">\r\n          {partyPackList.map((partyPackName, i) =>\r\n            <PartyPackCard\r\n              key={i}\r\n              partyPackName={partyPackName}\r\n              metadata={this.state.validGames[partyPackName]}\r\n            />\r\n          )}\r\n        </div>\r\n      );\r\n    }\r\n\r\n}\r\n","// import logo from './logo.svg';\nimport './App.css';\nimport AuthenticatedApp from './AuthenticatedApp';\nimport React, { Component } from 'react';\nimport { HashRouter, Route } from \"react-router-dom\";\nimport JackboxGameList from './JackboxGameList';\n\nconst loginScreen = function() {\n  const loginUrl = `https://id.twitch.tv/oauth2/authorize?client_id=${process.env.REACT_APP_TWITCH_CLIENT_ID}&response_type=code&scope=chat:read chat:edit&redirect_uri=${process.env.REACT_APP_REDIRECT_URI}`\n  return (\n    <a href={loginUrl} style={{backgroundColor: 'rebeccapurple', borderRadius: '5px', padding: '10px', color: 'white'}}>Log In With Twitch</a>\n  );\n}\n\nclass App extends Component {\n  render() {\n\n    return (\n      <HashRouter basename='/'>\n        <div className=\"App\">\n          <header className=\"App-header\">\n            <Route exact path=\"/login\">\n              {loginScreen()}\n            </Route>\n            <Route path=\"/\" component={AuthenticatedApp} />\n            <Route path=\"/gamelist\" component={JackboxGameList} />\n          </header>\n        </div>\n      </HashRouter>\n    );\n  }\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from \"react-router-dom\";\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}